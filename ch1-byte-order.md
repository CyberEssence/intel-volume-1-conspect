Порядок следования битов и байтов

Адреса увеличиваются в верхней части. Позиции битов нумеруются справа налево. Числовое значение заданного бита равно двум, возведенным в степень позиции бита. Процессоры Intel 64 и IA-32 являются машинами со строчной нумерацией; это означает, что байты слова нумеруются, начиная с младшего по значению байта.


     31    24 23  16 15  8 7   0 <------- Смещение битов   
       -------------------------  
      |     |      |     |     | 28   Наивысший адрес
      --------------------------
      |     |      |     |     | 24
      --------------------------
      |     |      |     |     | 20
      --------------------------
      |     |      |     |     | 16
      --------------------------
      |     |      |     |     | 12
      --------------------------
      |     |      |     |     | 8
      --------------------------
      |     |      |     |     | 4
      --------------------------
      |byte3|byte2 |byte1|byte0| 0   Наинизший адрес
      --------------------------
                                 |
                                 |
                         Смещение байтов

Зарезервированные биты и совместимость с программным обеспечением

Когда биты помечены как зарезервированные, для обеспечения совместимости с будущими процессорами важно, чтобы программное обеспечение учитывало эти биты как имеющие будущее, хотя и неизвестное влияние. Поведение зарезервированных битов следует рассматривать не только как неопределенное, но и как предсказуемое.

Программное обеспечение должно следовать этим рекомендациям при работе с зарезервированными битами:

- Не зависит от состояния каких-либо зарезервированных битов при проверке значений регистров, содержащих такие биты.
Замаскируйте зарезервированные биты перед тестированием.
- Не зависит от состояния каких-либо зарезервированных битов при сохранении в памяти или регистре.
- Не зависит от способности сохранять информацию, записанную в какие-либо зарезервированные биты.
- При загрузке регистра всегда загружайте зарезервированные биты значениями, указанными в документации, если таковые имеются, или повторно загружайте их значениями, ранее считанными из того же регистра.

Заметка
Избегайте любой зависимости программного обеспечения от состояния зарезервированных битов в регистрах Intel 64 и IA-32.
В зависимости от значений битов зарезервированных регистров программное обеспечение будет зависеть от неопределенного способа обработки этих битов процессором. Программы, зависящие от зарезервированных значений, могут оказаться несовместимыми с будущими процессорами.
