# Глава 2 АРХИТЕКТУРЫ INTEL 64 И IA-32

### 16-разрядные процессоры и сегментация (1978)
Семейству архитектуры IA-32 предшествовали 16-разрядные процессоры 8086 и 8088. 8086 имеет 16-разрядные регистры и 16-разрядную внешнюю шину данных, а 20-разрядная адресация обеспечивает адресное пространство в 1 мегабайт. 8088 аналогичен 8086, за исключением того, что у него 8-разрядная внешняя шина данных.
В 8086/8088 была внедрена сегментация в архитектуру IA-32. С помощью сегментации был создан 16-разрядный сегментный регистр
содержит указатель на сегмент памяти объемом до 64 Кбайт. Используя четыре сегментных регистра одновременно, процессоры 8086/8088 могут обрабатывать до 256 Кбайт без переключения между сегментами. 20-разрядные адреса, которые могут быть сформированы с помощью сегментного регистра и дополнительного 16-разрядного указателя, обеспечивают общий диапазон адресов в 1 Мбайт.

### Процессор Intel 286 (1982)
Процессор Intel 286 внедрил защищенный режим работы в архитектуру IA-32. В защищенном режиме
содержимое сегментного регистра используется в качестве селекторов или указателей в таблицах дескрипторов. Дескрипторы предоставляют 24-разрядные базовые адреса с объемом физической памяти до 16 Мегабайт, поддержку управления виртуальной памятью на основе замены сегментов и ряд механизмов защиты. 
Эти механизмы включают в себя:
- Проверку ограничения сегмента.
- Опции сегмента только для чтения и выполнения.
- Четыре уровня привилегий.

### Процессор Intel 386 (1985)
Процессор Intel386 был первым 32-разрядным процессором в семействе архитектуры IA-32. В нем были представлены 32-разрядные регистры, используемые как для хранения операндов, так и для адресации. Нижняя половина каждого 32-разрядного регистра Intel 386 сохраняет свойства 16-разрядных регистров предыдущих поколений, что обеспечивает обратную совместимость. Процессор также поддерживает режим virtual-8086, который обеспечивает еще большую эффективность при выполнении программ, созданных для процессоров 8086/8088.
процессоры.
Кроме того, процессор Intel 386 поддерживает:
- 32-разрядная адресная шина, поддерживающая объем физической памяти до 4 Гбайт.
- Модель сегментированной памяти и модель плоской памяти.
- Подкачка с фиксированным размером страницы в 4 Кбайт, обеспечивающая метод управления виртуальной памятью.
- Поддержка параллельных этапов.

### Процессор Intel 486(1989)
Процессор Intel 486 расширил возможности параллельного выполнения, разделив блоки декодирования команд и их выполнения в процессоре Intel386 на пять конвейерных этапов. Каждый этап работает параллельно с другими, выполняя до пяти инструкций на разных этапах выполнения.

Кроме того, в процессор былb добавлен:
- Встроенный кэш первого уровня объемом 8 Кбайт, что увеличило процент команд, которые могут выполняться со скалярной скоростью до одной за такт.
- Интеграция x87 FPU.
- Возможности энергосбережения и управления системой.

### Процессор Intel Pentium (1993)
С появлением процессора Intel Pentium был добавлен второй конвейер выполнения для достижения сверхскалярной производительности (два конвейера, известные как u и v, вместе могут выполнять по две команды за такт). Объем встроенного кэша первого уровня удвоился: 8 Кбайт отведено под код, а еще 8 Кбайт - под данные. Кэш данных использует протокол MESI для поддержки более эффективного кэширования с обратной записью в дополнение к кэшу с сквозной записью, который ранее использовался в процессор Intel 486. Для повышения производительности в циклических конструкциях было добавлено предсказание переходов с помощью встроенной таблицы переходов.
Кроме того, процессор добавил:
- Расширения, повышающие эффективность режима virtual-8086 и позволяющие создавать страницы размером как 4 мегабайта, так и 4 кбайта.
- Внутренние каналы передачи данных размером 128 и 256 бит увеличивают скорость внутренней передачи данных.
- Расширяемая внешняя шина данных была увеличена до 64 бит.
- Интерфейс APIC для поддержки систем с несколькими процессорами.
- Двухпроцессорный режим для поддержки бесклеевых двухпроцессорных систем.

На следующем этапе развития семейства Pentium была представлена технология Intel MMX (процессор Pentium с
технологией MMX). Технология Intel MMX использует модель выполнения с использованием одной команды и нескольких данных (SIMD) для выполнения параллельных вычислений с упакованными целыми данными, содержащимися в 64-разрядных регистрах.

### Процессоры семейства P6 (1995-1999)
Процессоры семейства P6 были основаны на суперскалярной микроархитектуре, которая установила новые стандарты производительности; ”Микроархитектура семейства P6". Одной из целей при разработке микроархитектуры семейства P6 было значительно повысить производительность процессора Pentium при использовании того же четырехслойного металлического BICMOS-процессора толщиной 0,6 микрометра. К числу представителей этого семейства относятся следующие:

- Процессор Intel Pentium Pro является трехпозиционным суперскалярным. Используя методы параллельной обработки, процессор
процессор способен в среднем декодировать, отправлять и завершать выполнение (отменять) трех инструкций за
такт. В Pentium Pro реализована суперскалярная реализация динамического выполнения (анализ потока микроданных, выполнение не по порядку, улучшенное предсказание переходов и спекулятивное выполнение). Процессор был дополнительно усовершенствован за счет кэширования. Он имеет те же два встроенных 8-килобайтных кэша 1-го уровня, что и процессор Pentium, и дополнительный 256-килобайтный кэш 2-го уровня в том же корпусе, что и процессор.
- Процессор Intel Pentium II дополнил процессоры семейства P6 технологией Intel MMX, а также новой упаковкой и несколькими аппаратными усовершенствованиями. Ядро процессора упаковано в картридж single edge contact (SECC). Кэш-память данных и команд уровня l была увеличена до 16 Кбайт каждая, а кэш-память уровня 2 имеет размеры 256 Кбайт, 512 Кбайт и 1 Мбайт. К процессору кэш-память уровня 2 подключается по внутренней шине с половинной частотой. Для экономии энергии на холостом ходу поддерживается несколько режимов пониженного энергопотребления, таких как автоподача, остановка, спящий режим и глубокий сон.
- Процессор Pentium II Xeon объединил в себе превосходные характеристики предыдущих поколений
процессоров Intel. К ним относятся: 4-х, 8-ми полосная (и более высокая) масштабируемость и кэш-память 2-го уровня объемом 2 Мбайт, работающая на
полночастотной внутренней шине.
- Семейство процессоров Intel Celeron ориентировано на сегмент ПК с высокой стоимостью. В линейку процессоров
интегрирован кэш-память 2-го уровня объемом 128 Кбайт и форм-фактор plastic pin grid (P.P.G.A.), что позволяет снизить
затраты на разработку системы.
- Процессор Intel Pentium III внедрил в архитектуру IA-32 потоковые расширения SIMD (SSE).
Расширения SSE расширяют модель выполнения SIMD, представленную в технологии Intel MMX, предоставляяновый набор 128-разрядных регистров и возможность выполнять SIMD-операции с упакованными значениями с плавающей запятой одинарной точности. Смотрите раздел 2.2.7, “Инструкции SIMD”.
- Процессор Pentium III Xeon повысил уровень производительности процессоров IA-32
за счет использования полноскоростного встроенного кэш-памяти и усовершенствованного кэш-памяти для передачи данных.

### Семейство процессоров Intel® Pentium 4 (2000-2006)
Семейство процессоров Intel Pentium 4 основано на микроархитектуре Intel NetBurst; см. раздел "Микроархитектура Intel NetBurst".
Процессор Intel Pentium 4 представил Streaming SIMD Extensions 2 (SSE2); смотрите “Инструкции по SIMD”. Процессор Intel Pentium 4 с тактовой частотой 3,40 ГГц, поддерживающий технологию Hyper-Threading, представил потоковую передачу
SIMD Extensions 3 (SSE3); смотрите раздел 2.2.7, "Инструкции по SIMD".
Архитектура Intel 64 была представлена в процессоре Intel Pentium 4 Extreme Edition, поддерживающем Hyper-Threading.
Технология и в процессорах Intel Pentium 4 с последовательностями 6xx и 5xx.
Технология Intel Virtualization (Intel VT) была внедрена в процессорах Intel Pentium 4 672 и 662.

### Процессор Intel Xeon (2001-2007)
Процессоры Intel Xeon (за исключением двухъядерных процессоров Intel Xeon processor LV, серии Intel Xeon processor 5100) основаны на микроархитектуре Intel NetBurst; см. раздел "Микроархитектура Intel NetBurst". Как семейство,
эта группа процессоров IA-32 (более поздних процессоров Intel 64) предназначена для использования в многопроцессорных серверных системах и высокопроизводительных рабочих станциях.
В процессоре Intel Xeon MP появилась поддержка технологии Intel Hyper-Threading; смотрите раздел 2.2.8, "Intel
Технология Hyper-Threading".
Для внедрения архитектуры Intel 64 был использован 64-разрядный процессор Intel Xeon с частотой 3,60 ГГц (с системной шиной 800 МГц). Двухъядерный процессор Intel Xeon оснащен технологией dual core. Процессоры Intel Xeon серии 70xx оснащены технологией Intel Virtualization.
Процессоры Intel Xeon серии 5100 оснащены энергоэффективной и высокопроизводительной микроархитектурой Intel Core.
Этот процессор основан на архитектуре Intel 64; он включает в себя технологию виртуализации Intel и двухъядерную технологию. Процессоры Intel Xeon серии 3000 также основаны на микроархитектуре Intel Core. Процессор Intel Xeon
процессоры серии 5300 представляют собой четыре процессорных ядра в физическом корпусе, они также основаны на
микроархитектуре Intel Core.

### Процессор Intel Pentium M (2003-2006)
Семейство процессоров Intel Pentium M - это высокопроизводительные мобильные процессоры с низким энергопотреблением и микроархитектурными
усовершенствованиями по сравнению с предыдущими поколениями мобильных процессоров Intel IA-32. Это семейство разработано для
увеличения срока службы батареи и бесшовной интеграции с инновационными платформами, которые обеспечивают новые модели использования (такие как
расширенная мобильность, ультратонкие форм-факторы и интегрированные беспроводные сети).
Усовершенствованная микроархитектура включает в себя:
- Поддержку архитектуры Intel с динамическим исполнением.
- Высокопроизводительное ядро с низким энергопотреблением, изготовленное по передовому технологическому процессу Intel с медным соединением.
- Встроенный основной кэш команд объемом 32 Кбайт и кэш данных для обратной записи объемом 32 Кбайт.
- Встроенный кэш второго уровня (до 2 мегабайт) с усовершенствованной архитектурой кэширования для передачи данных.
- Расширенная логика предсказания переходов и предварительной выборки данных.
- Поддержка технологии MMX, потоковых команд SIMD и набора команд SSE2.
- Системная шина процессора, синхронизируемая с источником питания, имеет частоту 400 или 533 МГц.
- Усовершенствованное управление питанием с использованием усовершенствованной технологии Intel SpeedStep®.

### Процессор Intel Pentium Extreme Edition (2005)
В процессоре Intel Pentium Extreme Edition появилась двухъядерная технология. Эта технология обеспечивает расширенную аппаратную поддержку многопоточности. Процессор основан на микроархитектуре Intel NetBurst и поддерживает Intel SSE, SSE2, SSE3, технология Intel Hyper-Threading и архитектура Intel 64.
Смотрите также:
- "Микроархитектура Intel NetBurst".
- "Микроархитектура Intel CoreTM".
- "Инструкции SIMD".
- "Технология Intel Hyper-Threading".
- "Многоядерная технология".
- "Архитектура Intel 64".

### Процессоры Intel Core Duo и Intel Core Solo (2006-2007)
Процессор Intel Core Duo обеспечивает энергоэффективную двухъядерную работу при малом энергопотреблении, что увеличивает время автономной работы. Это семейство и одноядерный процессор Intel Core Solo обеспечивают микроархитектурные усовершенствования по сравнению с Семейство процессоров Pentium M.
Его усовершенствованная микроархитектура включает в себя:

- Интеллектуальный кэш Intel Smart Cache, который обеспечивает эффективный обмен данными между двумя процессорными ядрами.
- Улучшено декодирование и выполнение SIMD-кода.
- Intel Dynamic Power Coordination и усовершенствованный Intel Deeper Sleep для снижения энергопотребления.
- Intel Advanced Thermal Manager с интерфейсами цифровых термодатчиков.
- Поддержка оптимизированной по энергопотреблению шины 667 МГц.

### Процессоры Intel Xeon серий 5100, 5300 и семейство процессоров Intel CoreTM 2 (2006)
Процессоры Intel Xeon серий 3000, 3200, 5100, 5300 и 7300, двухъядерный процессор Intel Pentium, Intel Core 2 Extreme,
Процессоры Intel Core 2 Quad и семейства процессоров Intel Core 2 Duo поддерживают архитектуру Intel 64; они основаны
на высокопроизводительной и энергоэффективной микроархитектуре Intel Core, построенной по 65-нм технологическому процессу. Микроархитектура Intel Core включает в себя следующие инновационные функции:

- Динамическое исполнение Intel Wide для повышения производительности и быстродействия во всем мире.
- Технология Intel Intelligent Power позволяет снизить энергопотребление.
- Intel Advanced Smart Cache обеспечивает эффективный обмен данными между двумя процессорными ядрами.
- Intel Smart Memory Access позволяет увеличить пропускную способность данных и снизить задержку при обращении к памяти.
- Intel Advanced Digital Media Boost повышает производительность приложений с помощью нескольких поколений
расширений потоковой передачи SIMD.

Процессоры Intel Xeon серии 5300, Intel Core 2 Extreme серии QX6800 и процессоры Intel Core 2 Quad
поддерживают технологию Intel quad-core.

### Семейство Процессоров Intel Xeon серий 5200, 5400, 7400 и Intel Core 2. (2007)
Процессоры Intel Xeon серий 5200, 5400 и 7400, четырехъядерные процессоры Intel Core 2 серии Q9000, процессоры Intel Core 2 Duo
серии E8000 поддерживают архитектуру Intel 64; они основаны на усовершенствованной микроархитектуре Intel Core с использованием 45-нм технологического процесса. Усовершенствованная микроархитектура Intel Core обеспечивает следующие улучшенные возможности:
- Делитель по принципу radix-16 и более быстрые примитивы операционной системы еще больше повышают производительность динамического исполнения Intel Wide.
- Усовершенствованный интеллектуальный кэш Intel Advanced Smart Cache позволяет увеличить объем кэш-памяти второго уровня до 50% и повысить ассоциативность при выборе способа до 50%
- 128-разрядный модуль shuffler значительно повышает производительность Intel Advanced Digital Media Boost и
SSE4.
Процессоры Intel Xeon серии 5400 и Intel Core 2 Quad processor серии Q9000 поддерживают технологию Intel quad-core
Процессоры Intel Xeon серии 7400 имеют до шести процессорных ядер и кэш-память L3 объемом до 16 Мб.

### Семейство процессоров Intel Atom (2008)
Первое поколение процессоров Intel Atom построено по 45-нм технологическому процессу. В их основе лежит новая
микроархитектура Intel Atom microarchitecture, оптимизированная для устройств со сверхнизким энергопотреблением. Микроархитектура Intel Atom имеет два конвейера последовательного выполнения, которые сводят к минимуму энергопотребление, увеличивают время автономной работы и обеспечивают сверхмалые форм-факторы. Первоначальное семейство процессоров Intel Atom и последующие поколения, включая процессоры Intel Atom серий D2000, N2000, E2000, Z2000, C1000, обеспечивают следующие возможности:
- Усовершенствованная технология Intel SpeedStep.
- Поддержка технологии виртуализации Intel.
- Технология Intel Hyper-Threading.
- Технология глубокого отключения питания с динамическим размером кэша.
Поддержка расширений набора команд, включая дополнительные потоковые SIMD-расширения 3
(SSSE3).
- Поддержка архитектуры Intel 64 (за исключением процессоров Intel Atom серии Z5xx).

Семейство процессоров Intel Atom на базе микроархитектуры Silvermont (2013)
Процессоры Intel Atom серий 2xxx, 3xxx, 1xxxx основаны на микроархитектуре Silvermont. Процессоры, основанные
на микроархитектуре Silvermont, поддерживают расширения набора команд вплоть до SSE4.2, AES NI и
PCLMULQDQ.

### Семейство процессоров Intel CoreTM i7 (2008)
Процессоры Intel Core i7 серии 900 поддерживают архитектуру Intel 64 и основаны на микроархитектуре Nehalem
с использованием 45-нм технологического процесса. Процессоры Intel Core i7 и Intel Xeon серии 5500 обладают
следующими функциями:
- Технология Intel Turbo Boost позволяет увеличить тепловой запас и производительность.
- Технология Intel Hyper Threading в сочетании с четырехъядерным процессором Quad Core обеспечивает четыре ядра и восемь потоков.
- Специальный блок управления мощностью позволяет снизить энергопотребление в активном режиме и в режиме ожидания.
- Встроенный в процессор контроллер памяти, поддерживающий три канала оперативной памяти DDR3.
- Intel Smart Cache объемом 8 МБ.
- Intel QuickPath interconnect (QPI) обеспечивает двухточечную связь с чипсетом.
- Поддержка наборов команд SSE4.2 и SSE4.1.
- Технология виртуализации Intel второго поколения.

### Процессоры Intel Xeon серии 7500 (2010)
Процессоры Intel Xeon серий 7500 и 6500 основаны на микроархитектуре Nehalem с использованием 45-нм технологического процесса. Эти процессоры поддерживают одинаковые функции, а также следующие возможности:

- До восьми ядер на физический процессор.
- Объем интеллектуального кэша Intel Smart Cache составляет до 24 МБ включительно.
- Для подключения к системной памяти используются каналы Intel® Scalable Memory Interconnect (Intel® SMI) с масштабируемым буфером памяти Intel 7500.
- Усовершенствованная архитектура машинной проверки с возможностью восстановления программного обеспечения, поддерживающая RAS.

### 2010 Семейство процессоров Intel Core (2010)
Семейство процессоров Intel Core 2010 года выпуска включает процессоры Intel Core i7, i5 и i3. Эти процессоры основаны на микроархитектуре Westmere использует 32-нм техпроцесс. Эти функции могут включать в себя:
Обеспечение высокой производительности с использованием технологии Intel Hyper-Threading и технологии Intel Turbo Boost.
Усовершенствованный интеллектуальный кэш-память Intel и встроенный контроллер памяти.
Интеллектуальное управление питанием.
Переработанная платформа с встроенной графикой 45 нм.
Поддерживается широкий диапазон наборов команд вплоть до AES NI, PCLMULQDQ, SSE4.2 и SSE4.1.

### Процессоры Intel Xeon серии 5600 (2010)
Процессоры Intel Xeon серии 5600 основаны на микроархитектуре Westmere с использованием 32-нм технологического процесса.
Они поддерживают те же функции, что описаны в разделе 2.1.16, а также следующие возможности:
- До шести ядер на физический процессор.
- Расширенный интеллектуальный кэш Intel® Smart объемом до 12 МБ.
- Поддержка наборов команд AES NI, PCLMULQDQ, SSE4.2 и SSE4.1.
- Гибкие технологии виртуализации Intel для всех процессоров и операций ввода-вывода.
